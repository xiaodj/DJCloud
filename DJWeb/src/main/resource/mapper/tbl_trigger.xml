<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.djweb.dao.ITriggerDAO">
    <!-- 添加触发器 -->
    <insert id="insert" parameterType="com.djweb.entity.TriggerEntity">
        INSERT INTO TBL_TRIGGER(TRIGNAME, CONTROLRANGE, ATTRNAME, TRIGSYMBOL,
        TRIGVALUE, MSGACCESS, MSGADDRESS, PID)
        VALUES(#{TRIGNAME}, #{CONTROLRANGE}, #{ATTRNAME},#{TRIGSYMBOL},
        #{TRIGVALUE}, #{MSGACCESS}, #{MSGADDRESS}, #{PID});
    </insert>
    <!-- 更新触发器信息 -->
    <update id="update" parameterType="com.djweb.entity.UserEntity">
        UPDATE TBL_TRIGGER SET TRIGNAME = #{TRIGNAME}, CONTROLRANGE = #{CONTROLRANGE},
        ATTRNAME = #{ATTRNAME}, TRIGSYMBOL = #{TRIGSYMBOL}, TRIGVALUE = #{TRIGVALUE},
        MSGACCESS = #{MSGACCESS}, MSGADDRESS = #{MSGADDRESS} WHERE TID = #{TID};
    </update>
    <!-- 根据触发器名称获取触发器信息 -->
    <select id="selectByTrigName" resultType="com.djweb.entity.TriggerEntity">
        SELECT * FROM TBL_TRIGGER WHERE TRIGNAME = #{trigname};
    </select>
    <!-- 根据触发器编码获取触发器信息 -->
    <select id="selectByTID" resultType="com.djweb.entity.TriggerEntity">
        SELECT * FROM TBL_TRIGGER WHERE TID = #{tid};
    </select>
    <!-- 根据产品编码获取触发器信息 -->
    <select id="selectByPID" resultType="com.djweb.entity.TriggerEntity">
        SELECT * FROM TBL_TRIGGER WHERE PID = #{PID};
    </select>
    <!-- 删除触发器 -->
    <delete id="deleteByTID">
        DELETE FROM TBL_TRIGGER WHERE TID = #{tid};
    </delete>
</mapper>